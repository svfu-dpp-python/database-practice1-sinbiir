# Введение в работу с базами данных

## Предварительные шаги

1. Изучите теоретическую часть в Stepik

2. Установите MySQL Server и MySQL Workbench ([инструкция](https://youtu.be/sKEBq3RH0xs))

3. Запустите MySQL Workbench, подключитесь к серверу

## Ход работы

1. На панели `Navigator` найдите базу данных (схему) `world` и разверните дерево так, чтобы были видны её таблицы
   ![Навигатор](images/navigator.png)

2. Откройте контекстное меню на пункте `Tables` и создайте новую таблицу `river` со следующими колонками:

   * `ID`, выберите тип данных INT, проставьте галочки: Primary Key, Not Null, Unique, Auto Increment
   * `Name`, выберите тип данных VARCHAR(50), проставьте галочку Not Null
   * `Length`, выберите тип данных INT

   Примените изменения (кнопка `Apply`)

   ![Создание](images/create1.png)

3. Откройте контекстное меню на созданной таблице `river`, выберите пункт `Select Rows - Limit 1000`, используйте кнопки редактирования в разделе просмотра данных для ввода данных о 5 реках.

   ![Редактирование данные](images/edit1.png)

   Примените изменения (кнопка `Apply`)

4. Откройте контекстное меню на таблице `city`, выберите пункт `Alter Table...`, добавьте новую колонку:

   * `River`, выберите тип данных INT

   Также добавьте новый внешний ключ (Foreign Key):

   * Foreign Key Name: `city_river`
   * Referenced Table: `world.river`
   * Column: `River`
   * Referenced Column: `ID`
   * On Delete: `SET NULL`

   ![Изменение структуры таблиц](images/alter1.png)

   Примените изменения (кнопка `Apply`)

5. Отредактируйте данные в таблице `city` так, чтобы у нескольких городав был указан идентификатор реки на который он расположен.

6. Удалите таблицу `countylanguage`. Для этого в контекстном меню выберите пункт `Drop Table...` и подтвердите действие.

7. Откройте пункт меню `Server`, `Data Export`, выберите базу данных `world` и используйте каталог по умолчанию. После завершения экспорта данных скопируйте созданные файлы резервной копии в данный репозиторий.

8. Откройте в текстовом редакторе `app.py` и исправьте пароль в функции `get_data()`. Откройте **командную строку Windows**, перейдите в каталог с данным репозиторием и последовательно выполните следующие команды:

   ```
   py -m venv venv
   ```
   ```
   venv\scripts\activate.bat
   ```
   ```
   pip install mysql-connector-python
   ```
   ```
   python app.py
   ```

   Откройте браузер по адресу [http://localhost:8000](http://localhost:8000). Проверьте, что видны введённые вами названия рек. **Сделайте скриншот и сохраните его в данном репозитории.**

9. Добавьте измененные файлы к коммиту и отправьте его на GitHub для проверки.
